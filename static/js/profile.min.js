const pA=ghB("show_password"),pB=ghB("password"),pC=ghB("name"),pD=ghB("family_name"),pE=ghB("email"),pF=ghB("phone"),pG=ghB("profile-settings-input-submit"),pH=ghB("edit_picture"),pI=ghB("picture_overlay"),pJ=ghB("file_upload"),pK=ghB("file_preview"),pL=ghB("file_submit"),pM=ghB(d+"s_"+c),pN=ghB(c+"SignUpOption"),pO=ghB("close_picture_overlay"),pP=ghB("get_member"),pQ=ghB("address");for(let i=0;i<3;i++){const A=ghB("profile_dashboard_btn"+(i+1)),B=[ghA(".dynamic .settings"),ghA(".dynamic .preferences"),ghA(".dynamic .membership")];hF(A,()=>{pR(A);B.forEach(C=>hE(C,e));hD(B[i],e)})}hF(pA,()=>{pB.type==="text"?pS(pB,pA):pT(pB,pA)});[pB,pC,pD,pE,pF,pQ].forEach(A=>A.on("input",()=>{pU()?hE(pG,e):hD(pG,e)}));hF(pG,async()=>{const{res}=await post(a+"updateProfile",{password:hA(pB)?pB.placeholder:pB.val(),given_name:hA(pC)?pC.placeholder:pC.val(),family_name:hA(pD)?pD.placeholder:pD.val(),email:hA(pE)?pE.placeholder:pE.val(),phone:hA(pF)?pF.placeholder:pF.val(),address:hA(pQ)?pQ.placeholder:pQ.val()});if(res==="No Error"){g.href=h+g.pathname+"?exec=dataSuccessfulUpdated"}else{nB("Beim Senden ist ein Fehler aufgetreten.")}});hF(pH,()=>{hC(pI,e);hC(pO,e)});hF(pO,()=>hF(pH));pJ.on("input",async()=>{pK.src=await gZ(pJ.file());hD(pL,"flex")});hF(pL,async()=>{hC(pI,e);hC(pO,e);hE(pL,"flex");pV()});if(JSON.stringify(pP)!=="{}"){hF(pP,()=>{g.href=h+"/spenden#scrollToMembership"})}else{pZ()}hF(ghB("preferences_darkmode"),pW);hF(pM,pc);function pR(A){for(let i=1;i<4;i++){hE(ghB("profile_dashboard_btn"+i),e)}hD(A,e)}function pS(A,B){A.type="password";B.src="/img/svg/eye.svg"}function pT(A,B){A.type="text";B.src="/img/svg/eye_closed.svg"}function pU(){return[pB,pC,pD,pE,pF,pQ].every(A=>A.placeholder===A.val()||hA(A))}async function pV(){const{res}=await post(a+"changePicture",{base64:pK.src});if(res==="No Error"){return nE("Bild erfolgreich hochgeladen.")}nB("Fehler beim hochladen des Bildes.")}function pW(){post(a+"toggleDarkmode");gP()}async function pX(){const{check}=await post(a+c+"/check");if(check){pM.checked=!0}}pX();async function pY(){if(pN.value===""){return pb()}const{status}=await post(a+c+"/signUp/logedIn",{gender:pN.value});return status}async function pZ(){const A=await post(a+"getMyBills");A.forEach(B=>{const C=hB("tr"),D=hB("td"),E=hB("td"),F=hB("td"),G=hB("td"),H=hB("td"),I=hB("td"),J=hB("a"),K=hB("a"),L=hB("img");L.alt="Download";L.src="/img/svg/download.svg";hI(K,L);J.innerHTML="Zu Stripe";K.target="_blank";J.target="_blank";K.href=B.pdf;J.href=B.url;D.innerHTML=B.id;E.innerHTML="Mitgliedschaft";F.innerHTML="50 CHF";G.innerHTML="Bezahlt";hI(H,J);hI(I,K);C.append(D,E,F,G,H,I);hI(ghB("invoice_append"),C)})}function pa(){post(a+c+"/signOff")}function pb(){nD("Du musst eine Anrede w√§hlen.");pM.checked=!1}function pc(){pM.checked?pY():pa()}
